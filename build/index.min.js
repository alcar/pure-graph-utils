'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _extends=Object.assign||function(a){for(var b,c=1;c<arguments.length;c++)for(var d in b=arguments[c],b)Object.prototype.hasOwnProperty.call(b,d)&&(a[d]=b[d]);return a};function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var EMPTY_OBJECT={},removeObjectProperty=function(a,b){return Object.keys(b).filter(function(b){return b!==a}).reduce(function(a,c){return _extends({},a,_defineProperty({},c,b[c]))},{})},createNode=exports.createNode=function(a,b){return'undefined'==typeof a?EMPTY_OBJECT:{id:a,value:b}},changeNodeId=exports.changeNodeId=function(a,b){return'undefined'==typeof b?createNode():'undefined'==typeof a||a===b.id?b:_extends({},b,{id:a})},addNodeProperty=exports.addNodeProperty=function(a,b,c){return'undefined'==typeof c?createNode():'undefined'==typeof a||c.hasOwnProperty(a)?c:_extends({},c,_defineProperty({},a,b))},editNodeProperty=exports.editNodeProperty=function(a,b,c){return'undefined'==typeof c?createNode():'undefined'!=typeof a&&c.hasOwnProperty(a)&&b!==c[a]?_extends({},c,_defineProperty({},a,b)):c},removeNodeProperty=exports.removeNodeProperty=function(a,b){return'undefined'==typeof b?createNode():'undefined'!=typeof a&&b.hasOwnProperty(a)&&'id'!==a?removeObjectProperty(a,b):b},createGraph=exports.createGraph=function(a){if('undefined'==typeof a||'undefined'==typeof a.id)return EMPTY_OBJECT;var b=!a.connections||0<a.connections.length?_extends({},a,{connections:[]}):a;return _defineProperty({},a.id,b)},addNode=exports.addNode=function(a,b){if('undefined'==typeof b)return createGraph();if('undefined'==typeof a||!a.id||'undefined'!=typeof b[a.id])return b;var c=!a.connections||0<a.connections.length?_extends({},a,{connections:[]}):a;return _extends({},b,_defineProperty({},a.id,c))},changeGraphNodeId=exports.changeGraphNodeId=function(a,b,c){if('undefined'==typeof c)return createGraph();if('undefined'==typeof a||'undefined'==typeof b||!c[a]||b===a)return c;var d=c[a].connections.reduce(function(d,e){return _extends({},d,_defineProperty({},e,_extends({},c[e],{connections:c[e].connections.map(function(c){return c===a?b:c})})))},c),e=removeObjectProperty(a,d);return _extends({},e,_defineProperty({},b,_extends({},c[a],{id:b})))},addGraphNodeProperty=exports.addGraphNodeProperty=function(a,b,c,d){return'undefined'==typeof d?createGraph():'undefined'==typeof a||'undefined'==typeof b||!d[a]||d[a].hasOwnProperty(b)?d:_extends({},d,_defineProperty({},a,_extends({},d[a],_defineProperty({},b,c))))},editGraphNodeProperty=exports.editGraphNodeProperty=function(a,b,c,d){return'undefined'==typeof d?createGraph():'undefined'!=typeof a&&'undefined'!=typeof b&&d[a]&&'id'!==b&&'connections'!==b&&d[a].hasOwnProperty(b)&&c!==d[a][b]?_extends({},d,_defineProperty({},a,_extends({},d[a],_defineProperty({},b,c)))):d},removeGraphNodeProperty=exports.removeGraphNodeProperty=function(a,b,c){return'undefined'==typeof c?createGraph():'undefined'!=typeof a&&'undefined'!=typeof b&&c[a]&&'id'!==b&&'connections'!==b&&c[a].hasOwnProperty(b)?_extends({},c,_defineProperty({},a,removeObjectProperty(b,c[a]))):c},addConnection=exports.addConnection=function(a,b,c){var d;return'undefined'==typeof c?createGraph():'undefined'==typeof a||'undefined'==typeof b||!c[a]||!c[b]||c[a].connections.includes(b)&&c[b].connections.includes(a)?c:_extends({},c,(d={},_defineProperty(d,a,_extends({},c[a],{connections:[].concat(_toConsumableArray(c[a].connections),[b])})),_defineProperty(d,b,_extends({},c[b],{connections:[].concat(_toConsumableArray(c[b].connections),[a])})),d))},removeConnection=exports.removeConnection=function(a,b,c){var d;return'undefined'==typeof c?createGraph():'undefined'!=typeof a&&'undefined'!=typeof b&&c[a]&&c[b]&&(c[a].connections.includes(b)||c[b].connections.includes(a))?_extends({},c,(d={},_defineProperty(d,a,_extends({},c[a],{connections:c[a].connections.filter(function(a){return a!==b})})),_defineProperty(d,b,_extends({},c[b],{connections:c[b].connections.filter(function(b){return b!==a})})),d)):c},removeAllConnections=exports.removeAllConnections=function(a,b){return'undefined'==typeof b?createGraph():'undefined'!=typeof a&&b[a]?b[a].connections.reduce(function(b,c){return removeConnection(a,c,b)},b):b},removeNode=exports.removeNode=function(a,b){if('undefined'==typeof b)return createGraph();if('undefined'==typeof a)return b;var c=removeAllConnections(a,b);return removeObjectProperty(a,c)};