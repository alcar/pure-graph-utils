"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.removeNode=exports.removeAllConnections=exports.removeConnection=exports.addConnection=exports.removeGraphNodeProperty=exports.editGraphNodeProperty=exports.addGraphNodeProperty=exports.changeGraphNodeId=exports.addNode=exports.createGraph=exports.removeNodeProperty=exports.editNodeProperty=exports.addNodeProperty=exports.changeNodeId=exports.createNode=void 0;function _toConsumableArray(a){return _arrayWithoutHoles(a)||_iterableToArray(a)||_unsupportedIterableToArray(a)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(a,b){if(a){if("string"==typeof a)return _arrayLikeToArray(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);return"Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c?Array.from(c):"Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c)?_arrayLikeToArray(a,b):void 0}}function _iterableToArray(a){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(a))return Array.from(a)}function _arrayWithoutHoles(a){if(Array.isArray(a))return _arrayLikeToArray(a)}function _arrayLikeToArray(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}function ownKeys(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function _objectSpread(a){for(var b,c=1;c<arguments.length;c++)b=null==arguments[c]?{}:arguments[c],c%2?ownKeys(Object(b),!0).forEach(function(c){_defineProperty(a,c,b[c])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(b)):ownKeys(Object(b)).forEach(function(c){Object.defineProperty(a,c,Object.getOwnPropertyDescriptor(b,c))});return a}function _defineProperty(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}var EMPTY_OBJECT={},removeObjectProperty=function(a,b){return Object.keys(b).filter(function(b){return b!==a}).reduce(function(a,c){return _objectSpread({},a,_defineProperty({},c,b[c]))},{})},createNode=function(a,b){return"undefined"==typeof a?EMPTY_OBJECT:{id:a,value:b}};exports.createNode=createNode;var changeNodeId=function(a,b){return"undefined"==typeof b?createNode():"undefined"==typeof a||a===b.id?b:_objectSpread({},b,{id:a})};exports.changeNodeId=changeNodeId;var addNodeProperty=function(a,b,c){return"undefined"==typeof c?createNode():"undefined"==typeof a||c.hasOwnProperty(a)?c:_objectSpread({},c,_defineProperty({},a,b))};exports.addNodeProperty=addNodeProperty;var editNodeProperty=function(a,b,c){return"undefined"==typeof c?createNode():"undefined"!=typeof a&&c.hasOwnProperty(a)&&b!==c[a]?_objectSpread({},c,_defineProperty({},a,b)):c};exports.editNodeProperty=editNodeProperty;var removeNodeProperty=function(a,b){return"undefined"==typeof b?createNode():"undefined"!=typeof a&&b.hasOwnProperty(a)&&"id"!==a?removeObjectProperty(a,b):b};exports.removeNodeProperty=removeNodeProperty;var createGraph=function(a){if("undefined"==typeof a||"undefined"==typeof a.id)return EMPTY_OBJECT;var b=!a.connections||0<a.connections.length?_objectSpread({},a,{connections:[]}):a;return _defineProperty({},a.id,b)};exports.createGraph=createGraph;var addNode=function(a,b){if("undefined"==typeof b)return createGraph();if("undefined"==typeof a||!a.id||"undefined"!=typeof b[a.id])return b;var c=!a.connections||0<a.connections.length?_objectSpread({},a,{connections:[]}):a;return _objectSpread({},b,_defineProperty({},a.id,c))};exports.addNode=addNode;var changeGraphNodeId=function(a,b,c){if("undefined"==typeof c)return createGraph();if("undefined"==typeof a||"undefined"==typeof b||!c[a]||b===a)return c;var d=c[a].connections.reduce(function(d,e){return _objectSpread({},d,_defineProperty({},e,_objectSpread({},c[e],{connections:c[e].connections.map(function(c){return c===a?b:c})})))},c),e=removeObjectProperty(a,d);return _objectSpread({},e,_defineProperty({},b,_objectSpread({},c[a],{id:b})))};exports.changeGraphNodeId=changeGraphNodeId;var addGraphNodeProperty=function(a,b,c,d){return"undefined"==typeof d?createGraph():"undefined"==typeof a||"undefined"==typeof b||!d[a]||d[a].hasOwnProperty(b)?d:_objectSpread({},d,_defineProperty({},a,_objectSpread({},d[a],_defineProperty({},b,c))))};exports.addGraphNodeProperty=addGraphNodeProperty;var editGraphNodeProperty=function(a,b,c,d){return"undefined"==typeof d?createGraph():"undefined"!=typeof a&&"undefined"!=typeof b&&d[a]&&"id"!==b&&"connections"!==b&&d[a].hasOwnProperty(b)&&c!==d[a][b]?_objectSpread({},d,_defineProperty({},a,_objectSpread({},d[a],_defineProperty({},b,c)))):d};exports.editGraphNodeProperty=editGraphNodeProperty;var removeGraphNodeProperty=function(a,b,c){return"undefined"==typeof c?createGraph():"undefined"!=typeof a&&"undefined"!=typeof b&&c[a]&&"id"!==b&&"connections"!==b&&c[a].hasOwnProperty(b)?_objectSpread({},c,_defineProperty({},a,removeObjectProperty(b,c[a]))):c};exports.removeGraphNodeProperty=removeGraphNodeProperty;var addConnection=function(a,b,c){var d;return"undefined"==typeof c?createGraph():"undefined"==typeof a||"undefined"==typeof b||!c[a]||!c[b]||c[a].connections.includes(b)&&c[b].connections.includes(a)?c:_objectSpread({},c,(d={},_defineProperty(d,a,_objectSpread({},c[a],{connections:[].concat(_toConsumableArray(c[a].connections),[b])})),_defineProperty(d,b,_objectSpread({},c[b],{connections:[].concat(_toConsumableArray(c[b].connections),[a])})),d))};exports.addConnection=addConnection;var removeConnection=function(a,b,c){var d;return"undefined"==typeof c?createGraph():"undefined"!=typeof a&&"undefined"!=typeof b&&c[a]&&c[b]&&(c[a].connections.includes(b)||c[b].connections.includes(a))?_objectSpread({},c,(d={},_defineProperty(d,a,_objectSpread({},c[a],{connections:c[a].connections.filter(function(a){return a!==b})})),_defineProperty(d,b,_objectSpread({},c[b],{connections:c[b].connections.filter(function(b){return b!==a})})),d)):c};exports.removeConnection=removeConnection;var removeAllConnections=function(a,b){return"undefined"==typeof b?createGraph():"undefined"!=typeof a&&b[a]?b[a].connections.reduce(function(b,c){return removeConnection(a,c,b)},b):b};exports.removeAllConnections=removeAllConnections;var removeNode=function(a,b){if("undefined"==typeof b)return createGraph();if("undefined"==typeof a)return b;var c=removeAllConnections(a,b);return removeObjectProperty(a,c)};exports.removeNode=removeNode;